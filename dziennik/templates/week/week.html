{% extends 'base.html' %}
{% load static %}
{% block content %}
	{% if user.username == '' %}
		<meta http-equiv="refresh" content="0; URL=/login/" />
	{% endif %}
	<head>
		<title>Tydzien | {{ user.first_name }} {{ user.last_name }}</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="{% static 'lib/jquery/jquery.js' %}"></script>
		<script src="{% static 'lib/jquery/jquery.slim.js' %}"></script>
		<script src="{% static 'lib/bootstrap/bootstrap.js' %}"></script>
		<link href="{% static 'css/main.css' %}" rel="stylesheet">    
	</head>
	<div class="myform form shadow-lg">
		<nav class="mb-1 navbar navbar-expand-lg navbar-light default-color shadow-lg custom-nav">
			<ul class="navbar-nav ml-auto nav-flex-icons">
				<li class="nav-item avatar">
					<a class="nav-link p-0" href="#">
						<img src="{% static 'img/man.svg' %}" class="rounded-circle z-depth-0 bg-profile float-left" alt="avatar image" width="15%">
						<span class="align-bottom" style="line-height: 0;"><font class="font-weight-bold pl-2" color="black" size="4">{{ user.first_name }} {{ user.last_name }}</font></br><font class="text-silver pl-2"  size="2">{{ user.email }}</font></span>
					</a>
				</li>
			</ul>	
			<div class="collapse navbar-collapse" id="navbarSupportedContent-333">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink-333" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="navbar-toggler-icon"></span></a>
						<div class="dropdown-menu  dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink-333">
							<a class="dropdown-item" href="#">Ustawienia</a>
							<a class="dropdown-item" href="{% url 'logout' %}">Wyloguj</a>
						</div>
					</li>
				</ul>
			</div>
		</nav>
		<div class="btn-group btn-group-toggle" data-toggle="buttons">
			<label class="btn btn-primary active">
				<input type="radio" name="options" id="option1" autocomplete="off"> Dzień
			</label>
			<label class="btn btn-primary">
				<input type="radio" name="options" id="option2" autocomplete="off"><a href ="#">Tydzień</a> 
			</label>
			<label class="btn btn-primary">
				<input type="radio" name="options" id="option3" autocomplete="off" checked> Miesiąc
			</label>
		</div>
        <div class="days">
			<span>Pn</span>
			<span>Wt</span>
			<span>Śr</span>
			<span>Cz</span>
			<span>Pt</span>
			<span class="weekend">Sb</span>
			<span class="weekend">Nd</span>
			<!--<span>
				{% for podgl in podglad%}
					<span>{{podgl.data_rozpoczecia}}</span>
					<span>{{podgl.godzina_rozpoczecia}}</span>
					<span>{{podgl.prowadzacy}}</span>
					<span>{{podgl.nazwa}}</span>
					<span>{{podgl.day}}</span>			
				{% endfor %}
			</span>-->
			<script>
				var x = 0;
				var pn=2;
				var wt =2;
				var sr=2;
				var cz=2;
				var pt=2;
				var sob=2;
				var nd=2;
				function wyswietl (podglad,x,dzien){
					console.log(podglad);
					var days = document.querySelector(".days");
					var spanik = document.createElement("span");
					spanik.style.gridColumnStart = dzien+1;
					if(dzien==0){
						spanik.style.gridRowStart = pn;
						var myJavaScriptVariable = podglad;
						spanik.innerHTML = myJavaScriptVariable+"<br/>";
						pn++;
					}
					if(dzien==1){
						spanik.style.gridRowStart = wt;
						var myJavaScriptVariable = podglad;
						spanik.innerHTML = myJavaScriptVariable+"<br/>";
						wt++;
					}
					if(dzien==2){
						spanik.style.gridRowStart = sr;
						var myJavaScriptVariable = podglad;
						spanik.innerHTML = myJavaScriptVariable+"<br/>";
						sr++;
					}
					if(dzien==3){
						spanik.style.gridRowStart = cz;
						var myJavaScriptVariable = podglad;
						spanik.innerHTML = myJavaScriptVariable+"<br/>";
						cz++;
					}
					if(dzien==4){
						spanik.style.gridRowStart = pt;
						var myJavaScriptVariable = podglad;
						spanik.innerHTML = myJavaScriptVariable+"<br/>";
						pt++;
					}
					if(dzien==5){
						spanik.style.gridRowStart = sob;
						var myJavaScriptVariable = podglad;
						spanik.innerHTML = myJavaScriptVariable+"<br/>";
						sob++;
					}
					if(dzien==6){
						spanik.style.gridRowStart = nd;
						var myJavaScriptVariable = podglad;
						spanik.innerHTML = myJavaScriptVariable+"<br/>";
						nd++;
					}
					if(x%5==0){
						spanik.style.setProperty('border','solid')
						spanik.style.setProperty('border-top-width','0px')
						spanik.style.setProperty('border-bottom-width','2px')
						spanik.style.setProperty('border-left-width','0px')
						spanik.style.setProperty('border-right-width','0px')
					}
					days.appendChild(spanik);
					console.log(myJavaScriptVariable);
				}
			</script>
			{% for podgla in filtr %}
				<script type="text/javascript">
					x++;
					wyswietl("{{podgla.nazwa}}",x,{{podgla.day}})
					x++;
					wyswietl("{{podgla.prowadzacy}}",x,{{podgla.day}})
					x++;
					wyswietl("{{podgla.data_rozpoczecia}}",x,{{podgla.day}})
					x++;
					wyswietl("{{podgla.godzina_rozpoczecia}}",x,{{podgla.day}})
					x++;
					wyswietl("{{podgla.godzina_zakonczenia}}",x,{{podgla.day}})
				</script>
			{% endfor %}
		</div>
    </div> 
{% endblock %}